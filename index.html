<!doctype html><html lang="en"><head><meta charset="utf-8"><script src="https://d3js.org/d3.v4.min.js"></script><script src="https://unpkg.com/topojson@3"></script><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script><link rel="stylesheet" href="index.css"><link rel="shortcut icon" href="/Euromobile/favicon.ico"><style>text.shadow{stroke:#fff;stroke-width:2.5px;opacity:1}.legend{cursor:pointer}.selectioncateg{width:50%}</style><title>Datavis2020_groupe14</title><link href="/Euromobile/static/css/main.6d39457e.css" rel="stylesheet"></head><body><div id="root"></div><div id="container_intro"><h1>Projet de Datavisualisation sur l'utilisation de données mobiles lors de déplacements, en Europe.<br></h1><h3><br>L'utilisation de données mobiles ne cesse de croitre en Europe, notamment en raison de forfaits télécoms toujours plus compétitifs entre opérateurs, proposant aujourd'hui des accès quasi illimités à internet. Ce n'est que depuis le 15 juin 2017 que les consommateurs européens peuvent utiliser leurs forfaits nationaux depuis n'importe quel autre Etat de l'Union Européenne. La fin du roaming marque ainsi une nouvelle ère d'utilisation de données mobiles au sein de l'Europe, favorisant les voyages et échanges à l'étranger.<br>Les données étudiées dans ce projet de visualisation portent, en termes de pourcentages, sur les parts de population déclarant utiliser leurs données mobiles lors de déplacements (transports en commun, voyages, et trajets) de 2012 à 2018. Par l'intermédiaire de cette dernière, nous permettrons de mettre en avant les différences d'évolution d'utilisation de données mobiles entre les pays de l'Europe, ainsi qu'entre différentes catégories de population (catégorie sociale, âge, situation professionnelle, niveaux d'éducation).<br></h3><p>Données par pays de 2012 à 2018. Source : <a href="https://ec.europa.eu/eurostat/fr/data/database" target="_blank">Eurostat</a></p></div><div id="mainpage"><div id="premiersvg"><h1>Première représentation: Comparaison entre pays.</h1><div id="hautgauche"><div id="slide"><div id="textslide"><p>Veuillez déplacer le slider ci-contre pour parcourir les années de 2012 à 2018.</p></div><div id="slideannees"><input id="slider" type="range" value="2012" min="2012" max="2018" step="1" oninput="afficheAnnee()" onchange="afficheAnnee()"/> <span id="Annee">Annee: 2012</span></div></div><div id="premieremap"></div></div><div id="hautdroite"><h3>Cette première carte d'Europe colorée est est interactive. Pour avoir une idée globale de l'évolution d'utilisation de données mobiles à échelle Européenne, il est possible de sélectionner une catégorie de population ci-dessous et de parcourir les années avec le slider.<br><br>Un simple clic sur un pays affichera son évolution en pourcentages sur le repère situé à gauche. Nous pouvons ainsi comparer plusieurs pays entre eux.<br><br>Un double clic permettra quant à lui de réinitialiser le repère.</h3><div id="selectioncateg" style="float:left;width:50%"><p>Select a population category</p><select id="mySelect" onchange="afficheAnnee(),nonplot()" oninput="afficheAnnee()"><option value="Individuals with no or low formal education">Individuals with no or low formal education</option><option value="Individuals with high formal education">Individuals with high formal education</option><option value="students">students</option><option value="Active labour force (employed and unemployed)">Active labour force (employed and unemployed)</option><option value="Retired and other inactive">Retired and other inactive</option><option value="Unemployed">Unemployed</option><option value="Individuals, 16 TO 24 years old">Individuals, 16 TO 24 years old</option><option value="Individuals, 25 TO 54 years old">Individuals, 25 TO 54 years old</option><option value="All individuals">All individuals</option></select></div></div></div><div id="deuxiemesvg"><h1>Seconde représentation: Comparaison entre catégories pour un pays donné.</h1><div id="basgauche"></div><div id="basdroite"><h3>Cette seconde carte d'Europe permet, au survol d'un pays, d'observer pour ce dernier les évolutions d'utilisations de données mobiles pour chaque catégorie de population. Il est possible de voir que pour l'ensemble des catégories, la tendance globale est à la hausse et peut donc traduire une accéssibilité de plus en plus aisée aux connexions mobiles. Ceci peut non seulement s'expliquer par la diminution progressive du prix moyen des forfaits téléphoniques, mais également par l'amélioration de la couverture mobile Européenne.</h3>></div></div><div class="container"><h2>En explorant les deux visualisations, il est possible de constater des disparités entre les pays de l'Europe. L'Italie, à titre d'exemple, présente des proportions d'utilisation relativement faibles. Ceci s'explique principalement par les prix élevés de leurs forfaits mobiles. Pour palier au manque de tarifs intéressants sur le marché Italien, une compagnie française (Free) a exploité le filon et a proposé un forfait mobile (comprenant 30Go de datas) à un prix défiant toute concurrence locale. A contrario, la Norvège ou même la Suède étaient en haut du classement dès les premières années. Leur investissement précoce dans les technologies 3G leur ont permis de mettre à disposition des forfaits mobiles internet dès 2002.<br>De nos jours, les disparités les plus flagrantes ne portent plus directement sur les pays, mais sur les catégories de population. Témoignent d'une grande utilisation de datas mobiles en déplacement pour les plus jeunes et les "actifs".</h2></div></div><script>var couleur=0,height=500,width=.66*document.body.clientWidth,center=[10,72],scale=275,colmin="#b1e6e6",colmax="#00707f",indicecouleur=(couleur=["#006d2c","#4c7ffe","#ff14f3","#ff1427","#ffeb14","#000000","#898989"],0),projection=d3.geoMercator().scale(scale).translate([width/1.3,0]).center(center),path=d3.geoPath().projection(projection),svg=d3.select("#premieremap").append("svg").attr("height",height).attr("width",width);function nonplot(){d3.select("svg"),svg.selectAll("chart"),chart.selectAll("text").remove(),chart.selectAll("line").remove(),chart.selectAll("circle").remove(),chart.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",410).attr("y2",300).attr("style","stroke:rgb(0,0,0);stroke-width:2"),chart.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",100).attr("y2",40).attr("style","stroke:rgb(0,0,0);stroke-width:2"),chart.append("text").attr("x",440).attr("y",320).text("Année");for(var t=0;t<101;t+=25)chart.append("line").attr("class","key").attr("x1",100).attr("y1",300-2.5*t).attr("x2",105).attr("y2",300-2.5*t).attr("style","stroke:rgb(0,0,0);stroke-width:2"),chart.append("text").attr("x",70).attr("y",305-2.5*t).text(t);for(var e=2012;e<2019;e++)chart.append("text").attr("x",88+50*(e-2012)).attr("y",320).text(e),chart.append("line").attr("class","key").attr("x1",100+50*(e-2012)).attr("y1",300).attr("x2",100+50*(e-2012)).attr("y2",295).attr("style","stroke:rgb(0,0,0);stroke-width:2")}var color=d3.scaleLinear().range([colmin,colmax]).domain([0,100]),g=svg.append("g"),defs=svg.append("defs"),gradient=defs.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%");gradient.append("stop").attr("class","start").attr("offset","0%").attr("stop-color",colmin).attr("stop-opacity",1),gradient.append("stop").attr("class","end").attr("offset","100%").attr("stop-color",colmax).attr("stop-opacity",1),g.append("rect").attr("class","key").attr("id","choropleth").attr("width",200).attr("height",50).style("fill","url(#gradient)").style("opacity",1).attr("x",width/2.5).attr("y",20);var checkbox=!1;function test(){checkbox=d3.select("#checkbox")._groups[0][0].checked,afficheAnnee(d3.select("#slider")._groups[0][0].value)}function afficheAnnee(t){d3.json("dataset.json",function(t,e){t&&console.log("error fetching data"),g.selectAll(".country").data(topojson.feature(e,e.objects.eu).features).enter().append("path").attr("class","country").attr("id","choropleth").attr("d",path).attr("fill","#757575").style("opacity",1).style("fill",function(t){});var r=document.getElementById("slider").value,a="_"+r.toString(),o=document.getElementById("mySelect").value;if(d3.select("#Annee").text("Année: "+r),0==checkbox)var l=d3.scaleLinear().range([colmin,colmax]).domain([0,100]);else l.domain([0,750]);svg.selectAll("path").data(topojson.feature(e,e.objects.eu).features).style("fill",function(t){var e=t.properties[a][o];return e?l(e):"#ccc"}),svg.selectAll("title").remove(),svg.selectAll("path").append("svg:title").text(function(t){return console.log(t.properties[a][o]),[t.properties.name+" "," "+t.properties[a][o]+"%"]}),console.log(a)})}d3.json("dataset.json",function(t,e){t&&console.log("error fetching data"),g.selectAll(".country").data(topojson.feature(e,e.objects.eu).features).enter().append("path").attr("class","country").attr("id","choropleth").attr("d",path).attr("fill","#757575").style("opacity",1).style("fill",function(t){});var r="2012".toString();if(d3.select("#Annee").text("Année: "+r),0==checkbox)var a=d3.scaleLinear().range([colmin,colmax]).domain([0,100]);else a.domain([0,750]);var o=document.getElementById("mySelect").value;svg.selectAll("path").data(topojson.feature(e,e.objects.eu).features).style("fill",function(t){var e=t.properties["_"+r][o];return e?a(e):"#ccc"}).append("svg:title").text(function(t){return console.log(t.properties["_"+r][o]),[t.properties.name+" "," "+t.properties["_"+r][o]+"%"]})}),d3.json("dataset.json",function(t,e){var o=svg.attr("class","chart");o.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",410).attr("y2",300).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",100).attr("y2",40).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("text").attr("x",440).attr("y",320).text("Année");for(var r=0;r<101;r+=25)o.append("line").attr("class","key").attr("x1",100).attr("y1",300-2.5*r).attr("x2",105).attr("y2",300-2.5*r).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("text").attr("x",70).attr("y",305-2.5*r).text(r);for(var a=2012;a<2019;a++)o.append("text").attr("x",88+50*(a-2012)).attr("y",320).text(a),o.append("line").attr("class","key").attr("x1",100+50*(a-2012)).attr("y1",300).attr("x2",100+50*(a-2012)).attr("y2",295).attr("style","stroke:rgb(0,0,0);stroke-width:2");svg.selectAll("path").data(topojson.feature(e,e.objects.eu).features).on("click",function(t){if(console.log(indicecouleur),indicecouleur<7){var e=document.getElementById("mySelect").value;document.getElementById("mySelect").value;if("United Kingdom"==t.properties.name.toString())var r="UK";else r=t.properties.name.toString();o.append("text").attr("x",0).attr("y",30+17*indicecouleur).style("fill",couleur[indicecouleur]).text(r);for(var a=2012;a<2018;a++)0!=t.properties["_"+a.toString()][e]&0!=t.properties["_"+(a+1).toString()][e]&&(o.append("line").attr("class","key").attr("x1",100+50*(a-2012)).attr("y1",300-2.5*t.properties["_"+a.toString()][e]).attr("x2",100+50*(a+1-2012)).attr("y2",300-2.5*t.properties["_"+(a+1).toString()][e]).attr("style","stroke:"+couleur[indicecouleur]+";stroke-width:2"),o.selectAll("line").append("title").text(function(){return t.properties.name})),0!=t.properties["_"+a.toString()][e]&&(o.append("circle").attr("cx",100+50*(a-2012)).attr("cy",300-2.5*t.properties["_"+a.toString()][e]).attr("r",3),o.selectAll("circle").append("title").text(function(){return t.properties.name}));0!=t.properties["_"+a.toString()][e]&&o.append("circle").attr("cx",100+50*(a-2012)).attr("cy",300-2.5*t.properties["_"+a.toString()][e]).attr("r",3),o.selectAll("circle").append("title").text(function(){return t.properties.name}),indicecouleur+=1}}),svg.selectAll("path").on("dblclick",function(){indicecouleur=0,charttitre=" ",o.selectAll("text").remove(),o.selectAll("line").remove(),o.selectAll("circle").remove(),o.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",410).attr("y2",300).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("line").attr("class","key").attr("x1",100).attr("y1",300).attr("x2",100).attr("y2",40).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("text").attr("x",440).attr("y",320).text("Année");for(var t=0;t<101;t+=25)o.append("line").attr("class","key").attr("x1",100).attr("y1",300-2.5*t).attr("x2",105).attr("y2",300-2.5*t).attr("style","stroke:rgb(0,0,0);stroke-width:2"),o.append("text").attr("x",70).attr("y",305-2.5*t).text(t);for(var e=2012;e<2019;e++)o.append("text").attr("x",88+50*(e-2012)).attr("y",320).text(e),o.append("line").attr("class","key").attr("x1",100+50*(e-2012)).attr("y1",300).attr("x2",100+50*(e-2012)).attr("y2",295).attr("style","stroke:rgb(0,0,0);stroke-width:2")})})</script><script>var center=[10,72],scale=275,colmin="#b1e6e6",colmax="#00707f",projection2=d3.geoMercator().scale(scale).translate([width/1.3,0]).center(center),path2=d3.geoPath().projection(projection2),svg2=d3.select("#basgauche").append("svg").attr("height",800).attr("width",width),color=d3.scaleLinear().range([colmin,colmax]).domain([0,100]),g2=svg2.append("g"),defs=svg2.append("defs"),gradient=defs.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%");gradient.append("stop").attr("class","start").attr("offset","0%").attr("stop-color",colmin).attr("stop-opacity",1),gradient.append("stop").attr("class","end").attr("offset","100%").attr("stop-color",colmax).attr("stop-opacity",1),d3.json("dataset.json",function(t,r){t&&console.log("error fetching data"),g2.selectAll(".country").data(topojson.feature(r,r.objects.eu).features).enter().append("path").attr("class","country").attr("id","choropleth").attr("d",path).attr("fill","#757575").style("opacity",1).style("fill",function(t){});var e="2012".toString();if(d3.select("#Annee").text("Année: "+e),0==checkbox)var a=d3.scaleLinear().range([colmin,colmax]).domain([0,100]);else a.domain([0,750])}),d3.json("dataset.json",function(t,r){for(var s=svg2.attr("class","chart"),e=0;e<3;e++)for(var a=0;a<4;a++){s.append("line").attr("class","key").attr("x1",100+110*a).attr("y1",410-140*e).attr("x2",200+110*a).attr("y2",410-140*e).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100+110*a).attr("y1",410-140*e).attr("x2",100+110*a).attr("y2",300-140*e).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var o=0;o<101;o+=25)s.append("line").attr("class","key").attr("x1",100+110*a).attr("y1",410-140*e-o).attr("x2",105+110*a).attr("y2",410-140*e-o).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var i=0;i<7;i++)s.append("line").attr("class","key").attr("x1",100+110*a+16.66*i).attr("y1",410-140*e).attr("x2",100+110*a+16.66*i).attr("y2",405-140*e).attr("style","stroke:rgb(0,0,0);stroke-width:2")}s.append("text").attr("x",540).attr("y",410).text("Année"),s.append("line").attr("class","key").attr("x1",100).attr("y1",540).attr("x2",100).attr("y2",430).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",540).attr("x2",200).attr("y2",540).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",680).attr("x2",100).attr("y2",570).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",680).attr("x2",200).attr("y2",680).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var p=0;p<2;p++){for(var n=0;n<101;n+=25)s.append("line").attr("class","key").attr("x1",100).attr("y1",680-140*p-n).attr("x2",105).attr("y2",680-140*p-n).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var d=0;d<7;d++)s.append("line").attr("class","key").attr("x1",100+16.66*d).attr("y1",680-140*p).attr("x2",100+16.66*d).attr("y2",675-140*p).attr("style","stroke:rgb(0,0,0);stroke-width:2")}s.append("text").attr("x",100).attr("y",10).text("Catégorie sociale").attr("font-weight","bold"),s.append("text").attr("x",100).attr("y",20).text("Active labour force"),s.append("text").attr("x",100).attr("y",150).text("Employees"),s.append("text").attr("x",100).attr("y",290).text("Retired"),s.append("text").attr("x",100).attr("y",430).text("Students"),s.append("text").attr("x",100).attr("y",570).text("Unemployed"),s.append("text").attr("x",210).attr("y",10).text("Education").attr("font-weight","bold"),s.append("text").attr("x",210).attr("y",20).text("No or low education"),s.append("text").attr("x",210).attr("y",150).text("Medium education"),s.append("text").attr("x",210).attr("y",290).text("High education"),s.append("text").attr("x",320).attr("y",10).text("Age").attr("font-weight","bold"),s.append("text").attr("x",320).attr("y",20).text("16 to 24 YO"),s.append("text").attr("x",320).attr("y",150).text("25 to 54 YO"),s.append("text").attr("x",320).attr("y",290).text("55 to 74 YO"),s.append("text").attr("x",430).attr("y",10).text("Sex").attr("font-weight","bold"),s.append("text").attr("x",430).attr("y",20).text("Male"),s.append("text").attr("x",430).attr("y",150).text("Female"),s.append("text").attr("x",430).attr("y",290).text("All individuals"),svg2.selectAll("path").data(topojson.feature(r,r.objects.eu).features).on("mouseover",function(t){console.log(t.properties["_"+2012..toString()]["Active labour force (employed and unemployed)"]),s.append("text").attr("x",20).attr("y",60).text([t.properties.name]);for(var r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]&0!=t.properties["_"+(r+1).toString()]["Active labour force (employed and unemployed)"]&&s.append("line").attr("class","key").attr("x1",100+16.67*(r-2012)).attr("y1",130-t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]).attr("x2",100+16.67*(r+1-2012)).attr("y2",130-t.properties["_"+(r+1).toString()]["Active labour force (employed and unemployed)"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]).attr("r",3);0!=t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Active labour force (employed and unemployed)"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]&0!=t.properties["_"+(r+1).toString()]["Females, 16 TO 74 years old"]&&s.append("line").attr("class","key").attr("x1",430+16.67*(r-2012)).attr("y1",270-t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]).attr("x2",430+16.67*(r+1-2012)).attr("y2",270-t.properties["_"+(r+1).toString()]["Females, 16 TO 74 years old"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]).attr("r",3);0!=t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Females, 16 TO 74 years old"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Individuals with no or low formal education"]&0!=t.properties["_"+(r+1).toString()]["Individuals with no or low formal education"]&&s.append("line").attr("class","key").attr("x1",210+16.67*(r-2012)).attr("y1",130-t.properties["_"+r.toString()]["Individuals with no or low formal education"]).attr("x2",210+16.67*(r+1-2012)).attr("y2",130-t.properties["_"+(r+1).toString()]["Individuals with no or low formal education"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Individuals with no or low formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Individuals with no or low formal education"]).attr("r",3);0!=t.properties["_"+r.toString()]["Individuals with no or low formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Individuals with no or low formal education"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["individuals with medium formal education"]&0!=t.properties["_"+(r+1).toString()]["individuals with medium formal education"]&&s.append("line").attr("class","key").attr("x1",210+16.67*(r-2012)).attr("y1",270-t.properties["_"+r.toString()]["individuals with medium formal education"]).attr("x2",210+16.67*(r+1-2012)).attr("y2",270-t.properties["_"+(r+1).toString()]["individuals with medium formal education"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["individuals with medium formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["individuals with medium formal education"]).attr("r",3);0!=t.properties["_"+r.toString()]["individuals with medium formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["individuals with medium formal education"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Individuals with high formal education"]&0!=t.properties["_"+(r+1).toString()]["Individuals with high formal education"]&&s.append("line").attr("class","key").attr("x1",210+16.67*(r-2012)).attr("y1",410-t.properties["_"+r.toString()]["Individuals with high formal education"]).attr("x2",210+16.67*(r+1-2012)).attr("y2",410-t.properties["_"+(r+1).toString()]["Individuals with high formal education"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Individuals with high formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Individuals with high formal education"]).attr("r",3);0!=t.properties["_"+r.toString()]["Individuals with high formal education"]&&s.append("circle").attr("cx",210+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Individuals with high formal education"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]&0!=t.properties["_"+(r+1).toString()]["Males, 16 TO 74 years old"]&&s.append("line").attr("class","key").attr("x1",430+16.67*(r-2012)).attr("y1",130-t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]).attr("x2",430+16.67*(r+1-2012)).attr("y2",130-t.properties["_"+(r+1).toString()]["Males, 16 TO 74 years old"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]).attr("r",3);0!=t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Males, 16 TO 74 years old"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Retired and other inactive"]&0!=t.properties["_"+(r+1).toString()]["Retired and other inactive"]&&s.append("line").attr("class","key").attr("x1",100+16.67*(r-2012)).attr("y1",410-t.properties["_"+r.toString()]["Retired and other inactive"]).attr("x2",100+16.67*(r+1-2012)).attr("y2",410-t.properties["_"+(r+1).toString()]["Retired and other inactive"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Retired and other inactive"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Retired and other inactive"]).attr("r",3);0!=t.properties["_"+r.toString()]["Retired and other inactive"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Retired and other inactive"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]&0!=t.properties["_"+(r+1).toString()]["Employees, self-employed, familly workers"]&&s.append("line").attr("class","key").attr("x1",100+16.67*(r-2012)).attr("y1",270-t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]).attr("x2",100+16.67*(r+1-2012)).attr("y2",270-t.properties["_"+(r+1).toString()]["Employees, self-employed, familly workers"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]).attr("r",3);0!=t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Employees, self-employed, familly workers"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()].students&0!=t.properties["_"+(r+1).toString()].students&&s.append("line").attr("class","key").attr("x1",100+16.67*(r-2012)).attr("y1",550-t.properties["_"+r.toString()].students).attr("x2",100+16.67*(r+1-2012)).attr("y2",550-t.properties["_"+(r+1).toString()].students).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()].students&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",550-t.properties["_"+r.toString()].students).attr("r",3);0!=t.properties["_"+r.toString()].students&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",550-t.properties["_"+r.toString()].students).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()].Unemployed&0!=t.properties["_"+(r+1).toString()].Unemployed&&s.append("line").attr("class","key").attr("x1",100+16.67*(r-2012)).attr("y1",690-t.properties["_"+r.toString()].Unemployed).attr("x2",100+16.67*(r+1-2012)).attr("y2",690-t.properties["_"+(r+1).toString()].Unemployed).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()].Unemployed&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",690-t.properties["_"+r.toString()].Unemployed).attr("r",3);0!=t.properties["_"+r.toString()].Unemployed&&s.append("circle").attr("cx",100+16.67*(r-2012)).attr("cy",690-t.properties["_"+r.toString()].Unemployed).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]&0!=t.properties["_"+(r+1).toString()]["Individuals, 16 TO 24 years old"]&&s.append("line").attr("class","key").attr("x1",320+16.67*(r-2012)).attr("y1",130-t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]).attr("x2",320+16.67*(r+1-2012)).attr("y2",130-t.properties["_"+(r+1).toString()]["Individuals, 16 TO 24 years old"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]).attr("r",3);0!=t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",130-t.properties["_"+r.toString()]["Individuals, 16 TO 24 years old"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]&0!=t.properties["_"+(r+1).toString()]["Individuals, 25 TO 54 years old"]&&s.append("line").attr("class","key").attr("x1",320+16.67*(r-2012)).attr("y1",270-t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]).attr("x2",320+16.67*(r+1-2012)).attr("y2",270-t.properties["_"+(r+1).toString()]["Individuals, 25 TO 54 years old"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]).attr("r",3);0!=t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",270-t.properties["_"+r.toString()]["Individuals, 25 TO 54 years old"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]&0!=t.properties["_"+(r+1).toString()]["Individuals, 55 TO 74 years old"]&&s.append("line").attr("class","key").attr("x1",320+16.67*(r-2012)).attr("y1",410-t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]).attr("x2",320+16.67*(r+1-2012)).attr("y2",410-t.properties["_"+(r+1).toString()]["Individuals, 55 TO 74 years old"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]).attr("r",3);0!=t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]&&s.append("circle").attr("cx",320+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["Individuals, 55 TO 74 years old"]).attr("r",3);for(r=2012;r<2018;r++)0!=t.properties["_"+r.toString()]["All individuals"]&0!=t.properties["_"+(r+1).toString()]["All individuals"]&&s.append("line").attr("class","key").attr("x1",430+16.67*(r-2012)).attr("y1",410-t.properties["_"+r.toString()]["All individuals"]).attr("x2",430+16.67*(r+1-2012)).attr("y2",410-t.properties["_"+(r+1).toString()]["All individuals"]).attr("style","stroke:rgb(0,0,0);stroke-width:2"),0!=t.properties["_"+r.toString()]["All individuals"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["All individuals"]).attr("r",3);0!=t.properties["_"+r.toString()]["All individuals"]&&s.append("circle").attr("cx",430+16.67*(r-2012)).attr("cy",410-t.properties["_"+r.toString()]["All individuals"]).attr("r",3)}).on("mouseout",function(){s.selectAll("text").remove(),s.selectAll("line").remove(),s.selectAll("circle").remove();for(var t=0;t<3;t++)for(var r=0;r<4;r++){s.append("line").attr("class","key").attr("x1",100+110*r).attr("y1",410-140*t).attr("x2",200+110*r).attr("y2",410-140*t).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100+110*r).attr("y1",410-140*t).attr("x2",100+110*r).attr("y2",300-140*t).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var e=0;e<101;e+=25)s.append("line").attr("class","key").attr("x1",100+110*r).attr("y1",410-140*t-e).attr("x2",105+110*r).attr("y2",410-140*t-e).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var a=0;a<7;a++)s.append("line").attr("class","key").attr("x1",100+110*r+16.66*a).attr("y1",410-140*t).attr("x2",100+110*r+16.66*a).attr("y2",405-140*t).attr("style","stroke:rgb(0,0,0);stroke-width:2")}s.append("text").attr("x",540).attr("y",380).text("Année"),s.append("text").attr("x",100).attr("y",10).text("Catégorie sociale").attr("font-weight","bold"),s.append("text").attr("x",100).attr("y",20).text("Active labour force"),s.append("text").attr("x",100).attr("y",150).text("Employees"),s.append("text").attr("x",100).attr("y",290).text("Retired"),s.append("text").attr("x",100).attr("y",430).text("Students"),s.append("text").attr("x",100).attr("y",570).text("Unemployed"),s.append("line").attr("class","key").attr("x1",100).attr("y1",540).attr("x2",100).attr("y2",430).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",540).attr("x2",200).attr("y2",540).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",680).attr("x2",100).attr("y2",570).attr("style","stroke:rgb(0,0,0);stroke-width:2"),s.append("line").attr("class","key").attr("x1",100).attr("y1",680).attr("x2",200).attr("y2",680).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var o=0;o<2;o++){for(var i=0;i<101;i+=25)s.append("line").attr("class","key").attr("x1",100).attr("y1",680-140*o-i).attr("x2",105).attr("y2",680-140*o-i).attr("style","stroke:rgb(0,0,0);stroke-width:2");for(var p=0;p<7;p++)s.append("line").attr("class","key").attr("x1",100+16.66*p).attr("y1",680-140*o).attr("x2",100+16.66*p).attr("y2",675-140*o).attr("style","stroke:rgb(0,0,0);stroke-width:2")}s.append("text").attr("x",210).attr("y",10).text("Education").attr("font-weight","bold"),s.append("text").attr("x",210).attr("y",20).text("No or low education"),s.append("text").attr("x",210).attr("y",150).text("Medium education"),s.append("text").attr("x",210).attr("y",290).text("High education"),s.append("text").attr("x",320).attr("y",10).text("Age").attr("font-weight","bold"),s.append("text").attr("x",320).attr("y",20).text("16 to 24 YO"),s.append("text").attr("x",320).attr("y",150).text("25 to 54 YO"),s.append("text").attr("x",320).attr("y",290).text("55 to 74 YO"),s.append("text").attr("x",430).attr("y",10).text("Sex").attr("font-weight","bold"),s.append("text").attr("x",430).attr("y",20).text("Male"),s.append("text").attr("x",430).attr("y",150).text("Female"),s.append("text").attr("x",430).attr("y",290).text("All individuals")})})</script><script type="text/javascript" src="/Euromobile/static/js/main.d955c03c.js"></script></body></html>